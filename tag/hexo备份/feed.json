{
    "version": "https://jsonfeed.org/version/1",
    "title": "qinxs小站 • All posts by \"hexo备份\" tag",
    "description": "基于Volantis主题搭建的Hexo博客，用于记录工作中的技术总结、博客主题信息以及其他个人爱好",
    "home_page_url": "https://7bxing.com",
    "items": [
        {
            "id": "https://7bxing.com/posts/659688f7/",
            "url": "https://7bxing.com/posts/659688f7/",
            "title": "Hexo博客配置及源文件备份",
            "date_published": "2020-09-19T12:38:31.000Z",
            "content_html": "<div class=\"note success\"><p>利用 <strong>批处理</strong> + <strong>坚果云</strong> 来增量备份Hexo配置及源文件</p></div>\n\n<a id=\"more\"></a>\n\n<h2 id=\"唠叨\"><a href=\"#唠叨\" class=\"headerlink\" title=\"唠叨\"></a>唠叨</h2><p>建站初期，经常折腾博客配置，有次不小心还误删除了package.json，后来花费很久才重新配置完成。<br>又权衡了很久，决定要把配置和源文件备份起来！</p>\n<p>于是乎，在网上搜索怎么备份Hexo配置及源文件？<br>大多都是直接或间接（通过插件）备份到git仓库，而且操作相对复杂，感觉没必要</p>\n<p>所以还是要研究自己的备份方法…</p>\n<h2 id=\"需求点\"><a href=\"#需求点\" class=\"headerlink\" title=\"需求点\"></a>需求点</h2><p>整理一下：大致分为三个条件</p>\n<ul>\n<li>操作简单</li>\n<li>增量备份</li>\n<li>由于存在不少key，必须满足私密性</li>\n</ul>\n<p>好在简单的 bat脚本 + 坚果云 就能实现</p>\n<h2 id=\"操作步骤\"><a href=\"#操作步骤\" class=\"headerlink\" title=\"操作步骤\"></a>操作步骤</h2><p><em>以下是正文部分</em></p>\n<h3 id=\"批处理复制到单独文件夹\"><a href=\"#批处理复制到单独文件夹\" class=\"headerlink\" title=\"批处理复制到单独文件夹\"></a>批处理复制到单独文件夹</h3><blockquote>\n<p>xcopy命令可以增量复制(只复制改动过的文件)<br>需要复制的文件一般为package.json、_config.*yml、source和scaffolds<br>具体可以查看官方文档 <a href=\"https://hexo.io/zh-cn/docs/setup\">hexo目录结构</a><br>或者其他更详细的介绍 <a href=\"https://segmentfault.com/a/1190000018237272\">简单认识Hexo的目录结构</a></p>\n</blockquote>\n<p>bat脚本代码为：</p>\n<figure class=\"highlight bat\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@<span class=\"built_in\">ECHO</span> OFF</span><br><span class=\"line\"><span class=\"built_in\">TITLE</span> Hexo博客备份</span><br><span class=\"line\"><span class=\"built_in\">set</span> &quot;<span class=\"built_in\">Dir</span>=D:\\Tools\\!Hexo\\&quot;</span><br><span class=\"line\"><span class=\"built_in\">echo</span> -------------------------</span><br><span class=\"line\"></span><br><span class=\"line\">@<span class=\"built_in\">ECHO</span> ON</span><br><span class=\"line\"><span class=\"built_in\">xcopy</span> /y /d !<span class=\"built_in\">copy</span>.bat &quot;<span class=\"variable\">%Dir%</span>&quot;</span><br><span class=\"line\"><span class=\"built_in\">xcopy</span> /y /d package.json &quot;<span class=\"variable\">%Dir%</span>&quot;</span><br><span class=\"line\"><span class=\"built_in\">xcopy</span> /y /d _config.*yml &quot;<span class=\"variable\">%Dir%</span>&quot;</span><br><span class=\"line\"><span class=\"built_in\">xcopy</span> /y /d /e source &quot;<span class=\"variable\">%Dir%</span>source\\&quot;</span><br><span class=\"line\"><span class=\"built_in\">xcopy</span> /y /d /e scaffolds &quot;<span class=\"variable\">%Dir%</span>scaffolds\\&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">@<span class=\"built_in\">ECHO</span> OFF</span><br><span class=\"line\"><span class=\"built_in\">echo</span>.</span><br><span class=\"line\"><span class=\"built_in\">echo</span> -------------------------</span><br><span class=\"line\"><span class=\"built_in\">echo</span> 备份完成，按任意键退出...</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">pause</span>&gt;<span class=\"built_in\">nul</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p><strong>使用方法</strong>：<br>在博客根目录下，新建文本文档，改名为 <code>!copy.bat</code>，复制脚本代码，将 <code>D:\\Tools\\!Hexo\\</code> 改为你的备份路径，保存<br>每次配置有调整或者新建了文章，点一下此脚本即可，效果如下：</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/qinxs/cdn-assets/img/md/659688f7/xcopy.png\" alt=\"xcopy备份\"></p>\n<h3 id=\"备份到-坚果云\"><a href=\"#备份到-坚果云\" class=\"headerlink\" title=\"备份到 坚果云\"></a>备份到 <a href=\"https://www.jianguoyun.com/\">坚果云</a></h3><p>其实没什么可说的（将bat脚本备份的文件夹同步到坚果云就行）<br>主要是强烈推荐一波 <code>坚果云</code></p>\n<p>截两张图片吧：</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/qinxs/cdn-assets/img/md/659688f7/jianguoyun1.png\" alt=\"每月流量\" title=\"每月流量\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/qinxs/cdn-assets/img/md/659688f7/jianguoyun2.png\" alt=\"文件历史版本\" title=\"文件历史版本\"></p>\n<p>最后，作为一个长期免费用户，衷心希望坚果云越做越好~</p>\n",
            "tags": [
                "Hexo备份"
            ]
        }
    ]
}